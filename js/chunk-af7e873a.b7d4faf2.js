(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af7e873a"],{"036c":function(t,e,s){"use strict";var i=s("cb21"),a=s.n(i);a.a},"381a":function(t,e,s){"use strict";var i=s("d112"),a=s.n(i);a.a},5800:function(t,e,s){},"595d":function(t,e,s){},"6e8e4":function(t,e,s){"use strict";var i=s("5800"),a=s.n(i);a.a},a6f9:function(t,e,s){"use strict";var i=s("595d"),a=s.n(i);a.a},af10:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-9 pt-3 bg-muted d-flex flex-column"},[s("loading-overlay",{staticClass:"flex-fill overflow-h",attrs:{loading:t.loadingOverlay}},[s("div",{staticClass:"row"},[t.showChannel?s("div",{staticClass:"col-4"},[s("div",[s("small",{staticClass:"font-weight-bold"},[t._v("Channel")]),s("multiselect",{attrs:{label:"name","track-by":"id",options:t.channelList,maxHeight:200,"allow-empty":!1,"show-labels":!1},model:{value:t.channel,callback:function(e){t.channel=e},expression:"channel"}})],1)]):t._e(),t.showStep?s("div",{staticClass:"col-4"},[s("small",{staticClass:"font-weight-bold"},[t._v("Customer Journey Step")]),s("multiselect",{attrs:{label:"name","track-by":"id",options:t.stepList,maxHeight:200,"allow-empty":!1,"show-labels":!1},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}})],1):t._e(),s("div",{staticClass:"col-4"},[s("small",{staticClass:"font-weight-bold"},[t._v("Keyword")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control br border-0",domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}})])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 p-2"},[s("div",{staticClass:"text-align-right"},[s("button",{staticClass:"btn btn-primary mb-3",on:{click:t.showAddModal}},[t._v("Add Answer Set")])]),t.loading?s("div",[s("vue-content-loading",{attrs:{height:90}},[s("rect",{attrs:{x:"0",y:"10",width:"50",height:"15"}}),s("rect",{attrs:{x:"60",y:"10",width:"80",height:"15"}}),s("rect",{attrs:{x:"0",y:"40",width:"300",height:"10"}}),s("rect",{attrs:{x:"0",y:"55",width:"300",height:"10"}}),s("rect",{attrs:{x:"0",y:"70",width:"300",height:"10"}})]),s("vue-content-loading",{attrs:{height:90}},[s("rect",{attrs:{x:"0",y:"10",width:"50",height:"15"}}),s("rect",{attrs:{x:"60",y:"10",width:"80",height:"15"}}),s("rect",{attrs:{x:"0",y:"40",width:"300",height:"10"}}),s("rect",{attrs:{x:"0",y:"55",width:"300",height:"10"}}),s("rect",{attrs:{x:"0",y:"70",width:"300",height:"10"}})]),s("vue-content-loading",{attrs:{height:90}},[s("rect",{attrs:{x:"0",y:"10",width:"50",height:"15"}}),s("rect",{attrs:{x:"60",y:"10",width:"80",height:"15"}}),s("rect",{attrs:{x:"0",y:"40",width:"300",height:"10"}}),s("rect",{attrs:{x:"0",y:"55",width:"300",height:"10"}}),s("rect",{attrs:{x:"0",y:"70",width:"300",height:"10"}})])],1):s("div",{staticClass:"d-flex flex-column p-2"},[s("div",{staticClass:"flex-fill m-0 row overflow-h",staticStyle:{height:"78vh"}},[s("div",{staticClass:"col-6 scroll pl-0"},t._l(t.list,(function(e){return s("div",{key:e.ID,class:t.activeSelected(e.ID)?"answersetActive":"answerset",on:{click:function(s){return t.showSelected(e)}}},[s("span",[t._v(t._s(e.Title))]),s("br"),s("div",{staticClass:"d-flex flex-row-reverse"},t._l(JSON.parse(e.Messages),(function(e,i){return s("div",{key:i},["text"==e.type?s("span",{staticClass:"pill pill-sm"},[t._v("Text")]):t._e(),"image"==e.type?s("span",{staticClass:"pill pill-sm"},[t._v("Image")]):t._e(),"card"==e.type?s("span",{staticClass:"pill pill-sm"},[t._v("Card")]):t._e()])})),0)])})),0),t.selected?s("div",{staticClass:"col-6 answerset"},[s("h4",{staticStyle:{float:"left"}},[t._v("Preview")]),t._l(t.activeAnsset,(function(e){return s("div",{key:e.ID},[s("div",{staticStyle:{height:"68vh","padding-top":"10px"}},t._l(JSON.parse(e.Messages),(function(e,i){return s("div",{key:i,staticClass:"test-width test-margin d-flex align-items-center justify-content-end mt-3"},["text"==e.type?s("span",{staticClass:"answerset-text-local"},[t._v(t._s(e.text))]):t._e(),"image"==e.type?s("div",[1==e.url.length?s("div",{staticClass:"single-pic pointer"},[s("img",{attrs:{src:t.imgUrl(e.url[0])}})]):e.url.length>1?s("div",{staticClass:"multi-pic row m-0"},t._l(e.url,(function(e,i){return s("div",{key:i,staticClass:"col-md-4 mt-0 mb-1 p-0 mr-1 d-inline pointer"},[s("div",{style:"background-image: url("+t.imgUrl(e)+")"})])})),0):t._e()]):t._e(),"card"==e.type?s("div",[s("div",{staticClass:"card",staticStyle:{width:"15rem"}},[""!=e.cardContent.photo?s("div",{staticClass:"d-flex flex-column add-image-div with-photo",style:{backgroundImage:"url("+t.imgUrl(e.cardContent.photo)+")"}}):t._e(),s("div",{staticClass:"card-body body-padding"},[e.cardContent.title?s("h5",{staticClass:"card-title"},[t._v(t._s(e.cardContent.title))]):t._e(),e.cardContent.text?s("p",{staticClass:"card-text"},[t._v(t._s(e.cardContent.text))]):t._e(),e.cardContent.buttons.length>0?s("div",{staticClass:"d-flex flex-column align-items-center"},t._l(e.cardContent.buttons,(function(e,i){return s("div",{key:i},[s("button",{staticClass:"btn btn-primary btn-sm mb-2 cardBtn",staticStyle:{cursor:"default !important"}},[t._v(t._s(e.text))])])})),0):t._e()])])]):t._e()])})),0),s("div",{staticClass:"d-flex justify-content-center pt-2",staticStyle:{height:"10vh"}},[s("button",{staticClass:"btn btn-danger m-2",staticStyle:{"border-radius":"18px","margin-top":"0px",height:"40px",width:"90px"},on:{click:function(s){return s.preventDefault(),t.deleteMsg(e)}}},[t._v("Delete")]),s("button",{staticClass:"btn btn-primary m-2",staticStyle:{"border-radius":"18px","margin-top":"0px",height:"40px",width:"90px"},on:{click:function(s){return t.showEditModal(e)}}},[t._v("Edit")])])])}))],2):t._e()])])])])]),s("modal",{attrs:{name:"add",height:"auto"}},[s("div",{staticClass:"p-2 text-left"},[s("div",{staticClass:"my-2"},[s("span",{staticClass:"text-muted"},[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t.showChannel?s("div",{staticClass:"my-2"},[s("span",{staticClass:"text-muted"},[t._v("Channel")]),s("multiselect",{attrs:{disabled:t.formSubmitting,label:"name","track-by":"id",options:t.channelList,multiple:!0,maxHeight:200,"show-labels":!1},model:{value:t.channels,callback:function(e){t.channels=e},expression:"channels"}})],1):t._e(),t.showStep?s("div",{staticClass:"my-2"},[s("span",{staticClass:"text-muted"},[t._v("Customer Journey Step")]),s("multiselect",{attrs:{disabled:t.formSubmitting,label:"name","track-by":"id",options:t.stepList,maxHeight:200,"allow-empty":!1,"show-labels":!1},model:{value:t.steps,callback:function(e){t.steps=e},expression:"steps"}})],1):t._e(),s("div",{staticClass:"my-2"},[t.activeAnswerset.ID?s("div",{ref:"activeAnswersetDiv",staticStyle:{"max-height":"250px","overflow-y":"auto",margin:"5px"}},t._l(t.getActiveAnswersetMsg,(function(e,i){return s("div",{key:i,staticClass:"d-flex flex-column mb-2"},["text"==e.type?s("div",{staticClass:"d-flex align-items-center justify-content-end"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"msg.text"}],ref:"input",refInFor:!0,staticClass:"form-control mb-2 text-box",attrs:{disabled:t.formSubmitting,rows:"3",cols:"30",placeholder:"Text Here"},domProps:{value:e.text},on:{input:function(s){s.target.composing||t.$set(e,"text",s.target.value)}}}),s("a",{staticClass:"closeBtn ml-4 mr-3",on:{click:function(e){return t.remove(i)}}},[s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Remove",expression:"'Remove'"}],staticClass:"lar la-times-circle"})])]):t._e(),"image"==e.type?s("div",{staticClass:"test-margin d-flex align-items-center justify-content-end mb-3"},[1==e.url.length?s("div",{staticClass:"single-pic pointer"},[s("img",{attrs:{src:t.imgUrl(e.url[0])}})]):e.url.length>1?s("div",{staticClass:"test-width multi-pic row m-0"},t._l(e.url,(function(e,i){return s("div",{key:i,staticClass:"col-md-4 mt-0 mb-1 p-0 mr-1 d-inline pointer"},[s("div",{style:"background-image: url("+t.imgUrl(e)+")"})])})),0):t._e(),s("a",{staticClass:"closeBtn ml-4 mr-3",on:{click:function(e){return t.remove(i)}}},[s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Remove",expression:"'Remove'"}],staticClass:"lar la-times-circle"})])]):t._e(),"card"==e.type?s("div",[s("div",{staticClass:"d-flex align-items-center justify-content-end"},[s("div",{staticClass:"card",staticStyle:{width:"15rem"}},[""!=e.cardContent.photo?s("div",{staticClass:"d-flex flex-column add-image-div with-photo",style:{backgroundImage:"url("+t.imgUrl(e.cardContent.photo)+")"}}):t._e(),s("div",{staticClass:"card-body body-padding"},[e.cardContent.title?s("h5",{staticClass:"card-title"},[t._v(t._s(e.cardContent.title))]):t._e(),e.cardContent.text?s("p",{staticClass:"card-text"},[t._v(t._s(e.cardContent.text))]):t._e(),e.cardContent.buttons.length>0?s("div",{staticClass:"d-flex flex-column align-items-center"},t._l(e.cardContent.buttons,(function(e,i){return s("div",{key:i},[s("button",{staticClass:"btn btn-primary btn-sm mb-2 cardBtn",staticStyle:{cursor:"default !important"}},[t._v(t._s(e.text))])])})),0):t._e()])]),s("a",{staticClass:"closeBtn ml-4 mr-3",on:{click:function(e){return t.remove(i)}}},[s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Remove",expression:"'Remove'"}],staticClass:"lar la-times-circle"})])])]):t._e()])})),0):s("div",[t.getAnswerSet.length>0?s("div",{ref:"answersetDiv",staticStyle:{"max-height":"250px","overflow-y":"auto",margin:"5px"}},t._l(t.getAnswerSet,(function(e,i){return s("div",{key:i,staticClass:"d-flex flex-column mb-2"},["text"==e.type?s("div",{staticClass:"d-flex align-items-center justify-content-end"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"item.text"}],ref:"input",refInFor:!0,staticClass:"form-control mb-2 text-box",attrs:{disabled:t.formSubmitting,rows:"3",cols:"30",placeholder:"Text Here"},domProps:{value:e.text},on:{input:function(s){s.target.composing||t.$set(e,"text",s.target.value)}}}),s("a",{staticClass:"closeBtn ml-4 mr-3",on:{click:function(e){return t.remove(i)}}},[s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Remove",expression:"'Remove'"}],staticClass:"lar la-times-circle"})])]):t._e(),"image"==e.type?s("div",{staticClass:"test-margin d-flex align-items-center justify-content-end mb-3"},[1==e.url.length?s("div",{staticClass:"single-pic pointer"},[s("img",{attrs:{src:t.imgUrl(e.url[0])}})]):e.url.length>1?s("div",{staticClass:"test-width multi-pic row m-0"},t._l(e.url,(function(e,i){return s("div",{key:i,staticClass:"col-md-4 mt-0 mb-1 p-0 mr-1 d-inline pointer"},[s("div",{style:"background-image: url("+t.imgUrl(e)+")"})])})),0):t._e(),s("a",{staticClass:"closeBtn ml-4 mr-3",on:{click:function(e){return t.remove(i)}}},[s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Remove",expression:"'Remove'"}],staticClass:"lar la-times-circle"})])]):t._e(),"card"==e.type?s("div",{staticClass:"d-flex align-items-center justify-content-end mb-3"},[s("div",{staticClass:"card",staticStyle:{width:"15rem"}},[""!=e.cardContent.photo?s("div",{staticClass:"d-flex flex-column add-image-div with-photo",style:{backgroundImage:"url("+e.cardContent.photo+")"}}):t._e(),s("div",{staticClass:"card-body body-padding"},[e.cardContent.title?s("h5",{staticClass:"card-title"},[t._v(t._s(e.cardContent.title))]):t._e(),e.cardContent.text?s("p",{staticClass:"card-text"},[t._v(t._s(e.cardContent.text))]):t._e(),e.cardContent.buttons.length>0?s("div",{staticClass:"d-flex flex-column align-items-center"},t._l(e.cardContent.buttons,(function(e,i){return s("div",{key:i},[s("button",{staticClass:"btn btn-primary btn-sm mb-2 cardBtn"},[t._v(t._s(e.text))])])})),0):t._e()])]),s("a",{staticClass:"closeBtn ml-4 mr-3",on:{click:function(e){return t.remove(i)}}},[s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Remove",expression:"'Remove'"}],staticClass:"lar la-times-circle"})])]):t._e()])})),0):t._e()]),s("div",{staticClass:"d-flex align-items-center justify-content-end mb-3"},[t.answerSet.length<1?s("button",{staticClass:"btn btn-primary btn-sm mr-3",on:{click:function(e){return t.addNewText()}}},[t._v("Add New Text")]):t._e()]),s("div",{staticClass:"d-flex mt-2"},[t.formSubmitting?s("spinner",{staticClass:"mr-5 my-2"}):s("div",{staticClass:"w-100 d-flex flex-row-reverse justify-content-between"},[this.activeAnswerset.ID?s("button",{staticClass:"btn btn-primary",on:{click:t.submitEdit}},[t._v("Update")]):s("button",{staticClass:"btn btn-primary",on:{click:t.submitAdd}},[t._v("Submit Template")]),t.activeAnswerset.ID?s("button",{staticClass:"btn btn-link text-danger",on:{click:function(e){return e.preventDefault(),t.confirmDel(e)}}},[t._v("Remove")]):t._e()])],1)])])]),s("v-dialog"),s("modal",{attrs:{name:"cardModal",height:"auto"}},[t.getCard?s("div",{staticClass:"d-flex justify-content-around align-items-center p-2 text-left"},[s("div",[s("div",{staticClass:"card",staticStyle:{width:"15rem"}},[""==t.getCard.photo?s("div",{staticClass:"d-flex flex-column add-image-div",on:{mouseover:t.mouseHoverinImgDiv,mouseleave:t.mouseLeaveinImgDiv}},[s("div",{staticClass:"d-flex flex-column align-items-center",staticStyle:{"margin-top":"3rem","margin-left":"5rem",position:"absolute"},on:{click:t.addCardImage}},[s("i",{staticClass:"las la-image"}),s("span",[t._v("Add Image")])]),s("input",{ref:"cardImageInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onCardImageChange}})]):t._e(),""!=t.getCard.photo?s("div",{staticClass:"d-flex flex-column add-image-div with-photo",style:{backgroundImage:"url("+t.getCard.photo+")"},on:{mouseover:t.mouseHoverinImgDiv,mouseleave:t.mouseLeaveinImgDiv}},[s("div",{staticClass:"d-flex justify-content-end"},[t.imgHover?s("a",{staticClass:"closeBtn closeImageBtn",on:{click:t.removeCardImage}},[s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Remove",expression:"'Remove'"}],staticClass:"lar la-times-circle"})]):t._e()])]):t._e(),s("div",{staticClass:"card-body body-padding"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.getCard.title,expression:"getCard.title"}],class:[t.isTitleActive?"card-input-title mb-1 card-input with-background":"card-input-title mb-1 card-input"],domProps:{value:t.getCard.title},on:{mouseenter:function(e){t.isTitleActive=!0},mouseleave:function(e){t.isTitleActive=!1},input:function(e){e.target.composing||t.$set(t.getCard,"title",e.target.value)}}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.getCard.text,expression:"getCard.text"}],class:[t.isTextActive?"card-textarea card-input with-background":"card-textarea card-input"],domProps:{value:t.getCard.text},on:{mouseenter:function(e){t.isTextActive=!0},mouseleave:function(e){t.isTextActive=!1},input:function(e){e.target.composing||t.$set(t.getCard,"text",e.target.value)}}}),t.getButtonInCard.length>0?s("div",{staticClass:"d-flex flex-column align-items-center"},t._l(t.getButtonInCard,(function(e,i){return s("div",{key:i},[s("v-popover",{attrs:{offset:"2",placement:"right"}},[s("button",{staticClass:"btn btn-primary btn-sm mb-2 cardBtn"},[t._v(t._s(e.text))]),s("template",{slot:"popover"},[s("div",{staticStyle:{padding:"1.25rem",background:"#fff"}},[s("div",{staticClass:"d-flex justify-content-center mb-3"},[s("span",{staticClass:"span-font"},[t._v("Edit Button")])]),s("div",{staticClass:"row mb-1"},[s("div",{staticClass:"col-md-4 text-align-left"},[s("span",{staticClass:"span-font"},[t._v("Text")])]),s("div",{staticClass:"col-md-8"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"btn.text"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.text},on:{input:function(s){s.target.composing||t.$set(e,"text",s.target.value)}}})])]),s("div",{staticClass:"row mb-1"},[s("div",{staticClass:"col-md-4 text-align-left"},[s("span",{staticClass:"span-font"},[t._v("Type")])]),s("div",{staticClass:"col-md-8"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"btn.type"}],staticClass:"form-control modifyButton-textarea",domProps:{value:e.type},on:{input:function(s){s.target.composing||t.$set(e,"type",s.target.value)}}})])]),s("div",{staticClass:"row mb-1"},[s("div",{staticClass:"col-md-4 text-align-left"},[s("span",{staticClass:"span-font"},[t._v("Value")])]),s("div",{staticClass:"col-md-8"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"btn.value"}],staticClass:"form-control modifyButton-textarea",domProps:{value:e.value},on:{input:function(s){s.target.composing||t.$set(e,"value",s.target.value)}}})])]),s("div",{staticClass:"row mb-1 mt-3",staticStyle:{"justify-content":"center"}},[s("button",{directives:[{name:"close-popover",rawName:"v-close-popover",value:!0,expression:"true"}],staticClass:"btn btn-primary btn-sm mr-3"},[t._v("Done")]),s("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(e){return t.removeCardBtn(i)}}},[t._v("Delete")])])])])],2)],1)})),0):t._e()]),t.getButtonInCard.length<3?s("ul",{staticClass:"list-group list-group-flush addButtonBorder"},[s("a",{class:[t.isAddButtonActive?"list-group-item addBtn addBtnActive":"list-group-item addBtn"],on:{click:t.addNewButtonInCard,mouseenter:function(e){t.isAddButtonActive=!0},mouseleave:function(e){t.isAddButtonActive=!1}}},[t._v("+ Add New Button")])]):t._e()])]),s("div",[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.createCard()}}},[t._v("Create Card")])])]):t._e()]),s("v-dialog")],1)},a=[],n=(s("a4d3"),s("99af"),s("4de4"),s("7db0"),s("c740"),s("4160"),s("caad"),s("d81d"),s("a434"),s("e439"),s("dbb4"),s("b64b"),s("d3b7"),s("2532"),s("3ca3"),s("159b"),s("ddb0"),s("2b3d"),s("96cf"),s("89ba")),r=s("284c"),o=s("2fa7"),l=s("bc3a"),c=s.n(l),d=s("68ee"),u=s.n(d),h=s("5b7e"),m=s.n(h),v=s("3f06");function p(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function g(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?p(s,!0).forEach((function(e){Object(o["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var f={components:{VueContentLoading:u.a,Spinner:m.a,LoadingOverlay:v["a"]},props:{showChannel:{default:!1},showStep:{default:!1}},data:function(){return{answerSet:[],activeAnswerset:{},activeAnswersetMsg:[],activeAnsset:[],channel:[],channels:[],channelList:[],steps:[],step:[],stepList:[],loading:!1,list:[],searchText:"",tag:[],tags:[],tagList:[],formSubmitting:!1,text:"",title:"",validationStatus:!0,imgHover:!1,loadingOverlay:!1,card:{photo:"",title:"Enter title",text:"Enter your text...",buttons:[]},buttonListInCard:[],buttonInCard:{type:"openUrl",text:"Click to edit",value:"www.facebook.com"},photoUrlForCard:"",isTitleActive:!1,isTextActive:!1,isAddButtonActive:!1,selected:!1,activeID:0}},computed:{getAnswerSet:function(){return this.answerSet},getActiveAnswersetMsg:function(){return this.activeAnswersetMsg},getCard:function(){return this.card},getButtonInCard:function(){return this.buttonListInCard}},methods:{showSelected:function(t){this.selected=!0,this.activeID=t.ID,this.activeAnsset.splice(0,1),this.activeAnsset.push(t)},deleteMsg:function(t){this.activeAnswerset=t,this.confirmDel()},activeSelected:function(t){return this.activeID==t},addNewCard:function(){this.activeAnswerset.ID,this.$modal.show("cardModal")},mouseHoverinImgDiv:function(){this.imgHover=!0},mouseLeaveinImgDiv:function(){this.imgHover=!1},addCardImage:function(){this.$refs.cardImageInput.click()},onCardImageChange:function(t){var e=t.target.files[0],s=URL.createObjectURL(e);this.photoUrlForCard=e,this.card.photo=s},removeCardImage:function(){this.card.photo=""},addNewButtonInCard:function(){this.buttonListInCard.push(g({},this.buttonInCard))},removeCardBtn:function(t){this.buttonListInCard.splice(t,1)},createCard:function(){this.card.buttons=Object(r["a"])(this.buttonListInCard);var t=g({},this.card);if(""!=t.photo){var e,s=new FileReader;s.readAsDataURL(this.photoUrlForCard),s.onload=function(){e=s.result,t.photo=e}}this.activeAnswerset.ID?this.activeAnswersetMsg.push({type:"card",text:"",url:"",cardContent:t}):this.answerSet.push({type:"card",text:"",url:"",cardContent:t}),this.card.photo="",this.card.title="Enter title",this.card.text="Enter your text...",this.card.buttons=[],this.buttonListInCard=[],this.$modal.hide("cardModal")},getImageForModal:function(t){return t},addNewImage:function(){this.$refs.fileInput.click()},onChange:function(t){for(var e=t.target.files,s=[],i=function(e){var i=t.target.files[e],a=void 0,n=(URL.createObjectURL(i),new FileReader);n.readAsDataURL(i),n.onload=function(){a=n.result,s.push(a)}},a=0;a<e.length;a++)i(a);this.activeAnswerset.ID?this.activeAnswersetMsg.push({type:"image",text:"",url:s}):this.answerSet.push({type:"image",text:"",url:s})},addNewText:function(){this.activeAnswerset.ID?this.activeAnswersetMsg.push({type:"text",text:""}):this.answerSet.push({type:"text",text:""})},remove:function(t){this.activeAnswerset.ID?this.activeAnswersetMsg.splice(t,1):this.answerSet.splice(t,1)},getData:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("settings/answersetPreData");case 3:e=t.sent,this.channelList=e.data.channels,this.stepList=e.data.steps,this.tagList=e.data.tags,t.next=12;break;case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),getEditData:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("answerset/getEditData?ID=".concat(this.activeAnswerset.ID));case 3:e=t.sent,this.tags=JSON.parse(e.data),t.next=10;break;case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",null);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),update:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.channels=this.channel,this.steps=this.step,this.selected=!1,e=this.step.id?this.step.id:0,s=this.channel.id?this.channel.id:0,i=0==e&&0==s,!(this.channel.id&&this.step.id||i)){t.next=22;break}return t.prev=7,this.loadingOverlay=!0,this.loading=!0,t.next=12,c.a.get("answerset/getAnswersetList?StepID=".concat(e,"&ChannelID=").concat(s,"&text=").concat(this.searchText));case 12:a=t.sent,200==a.status&&(this.list=a.data.map((function(t){return t}))),t.next=18;break;case 16:t.prev=16,t.t0=t["catch"](7);case 18:return t.prev=18,this.loading=!1,this.loadingOverlay=!1,t.finish(18);case 22:case"end":return t.stop()}}),t,this,[[7,16,18,22]])})));function e(){return t.apply(this,arguments)}return e}(),submitAdd:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,i,a,n,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=!0,s=this.answerSet.filter((function(t){return"text"==t.type})),i=0;i<s.length;i++)""==s[i].text&&(e=!1);if(a=Array.isArray(this.channels)?this.channels.map((function(t){return t.id})):[this.channels.id],n=this.step.id?this.step.id:0,Array.isArray(this.tags)||(this.tags=[this.tags]),this.checkValidation(this.title,a,this.tags,n,e,this.answerSet),!this.validationStatus){t.next=21;break}return this.formSubmitting=!0,t.prev=9,t.next=12,c.a.post("answerset/addMessages",{_Tags:JSON.stringify(this.tags),Messages:JSON.stringify(this.answerSet),AdminID:1,StepID:n,ChannelID:JSON.stringify(a),Title:this.title});case 12:o=t.sent,200==o.status&&(l=o.data,l.tags=JSON.parse(l._Tags),this.list=[l].concat(Object(r["a"])(this.list)),this.answerSet=[],this.$modal.hide("add")),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](9),this.formSubmitting=!1;case 19:t.next=23;break;case 21:this.ForValidation("Unknown Error in SubmitAdd!"),this.formSubmitting=!1;case 23:case"end":return t.stop()}}),t,this,[[9,16]])})));function e(){return t.apply(this,arguments)}return e}(),checkValidation:function(t,e,s,i,a,n){""==t?this.ForValidation("Please enter Title!"):this.showChannel?e.length<0&&this.ForValidation("Please Choose Channel!"):this.showStep?this.ForValidation("Please Choose Customer Journey Step!"):n.length>0?0==a?this.ForValidation("Please enter text in textboxes!"):this.validationStatus=!0:this.ForValidation("Please add text or image!")},ForValidation:function(t){this.$modal.show("dialog",{text:t,buttons:[{title:"OK"},{title:"Close"}]}),this.validationStatus=!1,this.formSubmitting=!1},submitEdit:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,i,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=!0,s=this.activeAnswersetMsg.filter((function(t){return"text"==t.type})),i=0;i<s.length;i++)""==s[i].text&&(e=!1);if(a=Array.isArray(this.channels)?this.channels.map((function(t){return t.id})):[this.channels.id],Array.isArray(this.tags)||(this.tags=[this.tags]),this.checkValidation(this.title,a,this.tags,this.steps.id,e,this.activeAnswersetMsg),!this.validationStatus){t.next=25;break}return this.formSubmitting=!0,this.activeAnswerset.Title=this.title,this.activeAnswerset.ChannelID=JSON.stringify(a),this.activeAnswerset.StepID=this.step.id,this.activeAnswerset._Tags=JSON.stringify(this.tags),this.activeAnswerset.Messages=JSON.stringify(this.activeAnswersetMsg),t.prev=13,t.next=16,c.a.post("answerset/updateAnswerset",this.activeAnswerset);case 16:n=t.sent,200==n.status&&(this.tags=this.tag,this.chanels=this.channel,this.steps=this.step,this.$modal.hide("add")),t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](13),this.formSubmitting=!1;case 23:t.next=27;break;case 25:this.ForValidation("Unknown error in submitEdit!"),this.formSubmitting=!1;case 27:case"end":return t.stop()}}),t,this,[[13,20]])})));function e(){return t.apply(this,arguments)}return e}(),confirmDel:function(){var t=this;this.$modal.show("dialog",{text:"Are you sure you want to delete this answerset?",buttons:[{title:"Close"},{title:"Delete",class:"vue-dialog-button bg-danger text-white",handler:function(){t.$modal.hide("dialog"),t.submitDel()}}]})},submitDel:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.formSubmitting=!0,t.next=4,c.a.delete("answerset/del?ID="+this.activeAnswerset.ID);case 4:e=t.sent,200==e.status&&(s=this.list.findIndex((function(t){return t.ID===i.activeAnswerset.ID})),this.list.splice(s,1),this.$modal.hide("add"),this.selected=!1),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.formSubmitting=!1;case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),checkNewTag:function(t){return void 0!=this.tagList.find((function(e){return e.Name==t}))?t:"Add New Tag: "+t},showAddModal:function(){this.title="",this.tags=this.tag,this.steps=this.step,this.channels=this.channel,this.activeAnswerset={},this.searchText="",this.formSubmitting=!1,this.$modal.show("add")},showEditModal:function(t){this.activeAnswerset=t,this.title=t.Title,this.activeAnswersetMsg=JSON.parse(this.activeAnswerset.Messages),this.getEditData(),this.formSubmitting=!1,this.$modal.show("add")},isEventFromTagEnter:function(t){return t.explicitOriginalTarget.classList.contains("vs__search")},imgUrl:function(t){return t.includes("base64")?t:"https://kktstroage.azureedge.net/yammo/smm/answerset/"+t}},mounted:function(){this.getData(),this.showChannel||this.showStep||this.update()},watch:{channel:function(){this.update()},step:function(){this.update()},tag:function(){this.update()},searchText:function(){this.update()}}},x=f,b=(s("381a"),s("036c"),s("6e8e4"),s("a6f9"),s("2877")),C=Object(b["a"])(x,i,a,!1,null,"04e57636",null);e["default"]=C.exports},cb21:function(t,e,s){},d112:function(t,e,s){}}]);
//# sourceMappingURL=chunk-af7e873a.b7d4faf2.js.map