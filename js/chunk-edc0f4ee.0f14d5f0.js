(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-edc0f4ee"],{"0b83":function(t,a,e){},"1e70":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-9 bg-muted d-flex flex-column"},[e("loading-overlay",{staticClass:"flex-fill overflow-h",attrs:{loading:t.loadingOverlay}},[e("div",{staticClass:"d-flex flex-row-reverse"},[e("button",{staticClass:"m-4 btn btn-primary",attrs:{round:""},on:{click:function(a){return t.showAddModal()}}},[e("i",{staticClass:"las la-plus-circle"}),t._v("Add Tag ")])]),e("div",{staticClass:"row"},t._l(t.tagAndSubTagList,(function(a){return e("div",{key:a.ID,staticClass:"col-6 p-2"},[e("div",{staticClass:"tag-container px-2 py-3"},[e("div",[e("span",{staticClass:"tag px-3 py-2",on:{click:function(e){return t.showEditModal(a)}}},[t._v(t._s(a.Name))])]),e("div",{staticClass:"mt-3"},[e("span",{staticClass:"stag px-2 py-1",on:{click:function(e){return t.addSubTag(a)}}},[t._v("+ Add")]),t._l(a.SubTags,(function(n){return e("span",{key:n.ID,staticClass:"stag px-2 py-1 m-1",on:{click:function(e){return t.showActionsModal(n,a)}}},[t._v(t._s(n.Name))])}))],2)])])})),0)]),e("sub-tag-modal",{on:{addSubTag:t.appendSubTag,updateSubTag:t.editSubTag,deleteSubTag:t.removeSubTag}}),e("modal",{attrs:{name:"tagModal",height:"auto",width:"400"},on:{"before-open":t.beforeOpen,opened:t.focus}},[e("div",{staticClass:"form"},[e("label",[t._v("Tag Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tagName,expression:"tagName"}],staticClass:"textbox form-control",attrs:{placeholder:" Enter Tag Name",type:"text"},domProps:{value:t.tagName},on:{input:function(a){a.target.composing||(t.tagName=a.target.value)}}}),e("div",{staticClass:"d-flex flex-row-reverse justify-content-between align-items-center"},["Add"==t.btnTag?e("button",{staticClass:"m-2 btn btn-primary",on:{click:t.addTag}},[t._v("Add")]):t._e(),"Update"==t.btnTag?e("button",{staticClass:"m-2 btn btn-primary",on:{click:t.updateTag}},[t._v("Update")]):t._e(),"Update"==t.btnTag?e("a",{staticClass:"text-danger mr-2",on:{click:t.removeTag}},[e("i",{staticClass:"lar la-trash-alt"}),t._v(" Delete ")]):t._e()])])])],1)},s=[],i=(e("4de4"),e("c740"),e("4160"),e("caad"),e("d81d"),e("a434"),e("d3b7"),e("2532"),e("159b"),e("96cf"),e("89ba")),r=e("bc3a"),u=e.n(r),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("modal",{attrs:{name:"subtag",height:"auto",width:"400"},on:{"before-open":t.beforeOpen,opened:t.focus}},[e("loading-overlay",{attrs:{white:"",loading:t.loading}},[e("div",{staticClass:"p-2"},[[e("div",{staticClass:"mb-2"},[e("span",{staticClass:"tag px-3 py-2"},[t._v(t._s(t.parentTag.Name))])]),e("small",{staticClass:"text-muted"},[t._v("Sub Tag Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],ref:"input",staticClass:"form-control",domProps:{value:t.input},on:{input:function(a){a.target.composing||(t.input=a.target.value)}}}),e("div",{staticClass:"d-flex flex-row-reverse justify-content-between align-items-center"},[t.editModal?e("button",{staticClass:"btn btn-primary my-2 btn-sm",on:{click:t.update}},[t._v("Update")]):t._e(),t.editModal?e("a",{staticClass:"text-danger mr-2",on:{click:t.remove}},[e("i",{staticClass:"lar la-trash-alt"}),t._v(" Delete ")]):e("button",{staticClass:"btn btn-primary my-2 btn-sm",on:{click:t.add}},[t._v("Add Sub Tag")])])]],2)])],1)},c=[],d=e("3f06"),l={components:{LoadingOverlay:d["a"]},data:function(){return{input:"",parentTag:{},subTag:{},loading:!1}},methods:{resetModal:function(){this.input="",this.subTag={}},beforeOpen:function(t){this.resetModal();var a=t.params,e=a.parentTag,n=a.editModal,s=a.subTag;this.parentTag=e,n&&(this.editModal=n),s&&(this.subTag=s,this.input=s.Name)},focus:function(){this.$refs.input.focus()},update:function(){var t=this;this.input&&(this.exists||(this.loading=!0,u.a.post("updateSubtag",{ID:this.subTag.ID,Name:this.input,TagID:this.parentTag.ID}).then((function(a){200==a.status&&t.$emit("updateSubTag",a.data)})).catch().finally((function(a){t.loading=!1,t.$modal.hide("subtag")}))))},remove:function(){var t=this;this.loading=!0,u.a.post("removeSubtag",{ID:this.subTag.ID,Name:this.input,TagID:this.parentTag.ID}).then((function(a){200==a.status&&t.$emit("deleteSubTag",a.data)})).catch().finally((function(a){t.loading=!1,t.$modal.hide("subtag")}))},add:function(){var t=this;this.input&&(this.exists||(this.loading=!0,u.a.post("addSubtag",{Name:this.input,TagID:this.parentTag.ID}).then((function(a){200==a.status&&t.$emit("addSubTag",a.data)})).catch().finally((function(a){t.loading=!1,t.$modal.hide("subtag")}))))}},computed:{exists:function(){return this.parentTag.SubTags.map((function(t){return t.Name})).includes(this.input)},editModal:function(){return this.subTag.ID}}},g=l,p=e("2877"),b=Object(p["a"])(g,o,c,!1,null,null,null),f=b.exports,h={components:{SubTagModal:f,LoadingOverlay:d["a"]},data:function(){return{subTag:"",tagName:"",subTagName:"",tagAndSubTagList:[],subTagList:[],tagID:0,subTagID:0,btnTag:"",btnSubTag:"",selected:"",btnAdd:!1,parentTag:{},loadingOverlay:!1}},methods:{addSubTag:function(t){this.$modal.show("subtag",{parentTag:t})},showActionsModal:function(t,a){this.$modal.show("subtag",{parentTag:a,subTag:t})},showAddModal:function(){this.tagName="",this.btnTag="Add",this.$modal.show("tagModal")},showEditModal:function(t){this.tagID=t.ID,this.tagName=t.Name,this.btnTag="Update",this.$modal.show("tagModal")},add:function(){},getTagsAndSubTags:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loadingOverlay=!0,t.next=4,u.a.get("TagsAndSubtags").then((function(t){a.tagAndSubTagList=t.data})).finally((function(){a.loadingOverlay=!1}));case 4:t.sent,t.next=10;break;case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",null);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function a(){return t.apply(this,arguments)}return a}(),addTag:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.tagName){t.next=2;break}return t.abrupt("return");case 2:if(!this.exists){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,a=this.$loading.show({loader:"dots"}),t.next=8,u.a.post("addTag",{Name:this.tagName}).then((function(t){e.$modal.hide("tagModal"),e.getTagsAndSubTags()})).finally((function(){a.hide()}));case 8:t.sent,t.next=14;break;case 11:return t.prev=11,t.t0=t["catch"](4),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,this,[[4,11]])})));function a(){return t.apply(this,arguments)}return a}(),updateTag:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.tagName){t.next=2;break}return t.abrupt("return");case 2:if(!this.exists){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,u.a.post("updateTag",{ID:this.tagID,Name:this.tagName});case 7:t.sent,this.$modal.hide("tagModal"),this.getTagsAndSubTags(),t.next=15;break;case 12:return t.prev=12,t.t0=t["catch"](4),t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,this,[[4,12]])})));function a(){return t.apply(this,arguments)}return a}(),removeTag:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post("removeTag",{ID:this.tagID});case 3:t.sent,this.$modal.hide("tagModal"),this.getTagsAndSubTags(),t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function a(){return t.apply(this,arguments)}return a}(),focus:function(t){"subtag"==t&&this.$refs.subtagInput.focus()},appendSubTag:function(t){this.tagAndSubTagList.forEach((function(a){a.ID===t.TagID&&a.SubTags.push(t)}))},editSubTag:function(t){var a=this.tagAndSubTagList.findIndex((function(a){return a.ID==t.TagID})),e=this.tagAndSubTagList[a].SubTags.filter((function(a){return a.ID==t.ID}));e[0].Name=t.Name},removeSubTag:function(t){var a=this.tagAndSubTagList.findIndex((function(a){return a.ID==t.TagID})),e=this.tagAndSubTagList[a].SubTags.findIndex((function(a){return a.ID==t.ID}));this.tagAndSubTagList[a].SubTags.splice(e,1)}},mounted:function(){this.getTagsAndSubTags()},computed:{exists:function(){return this.tagAndSubTagList.map((function(t){return t.Name})).includes(this.tagName)}}},m=h,T=(e("46ff"),e("b84cb"),Object(p["a"])(m,n,s,!1,null,"6c0655ed",null));a["default"]=T.exports},"22d9":function(t,a,e){"use strict";var n=e("0b83"),s=e.n(n);s.a},"3f06":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"position-relative"},[t.loading?e("div",{staticClass:"overlay",class:{"white-transparent":t.white}},[e("spinner")],1):t._e(),t._t("default")],2)},s=[],i=e("cf21"),r={components:{Spinner:i["a"]},props:{loading:{default:!1},white:{type:Boolean,default:!1}}},u=r,o=(e("22d9"),e("2877")),c=Object(o["a"])(u,n,s,!1,null,"6cc85e67",null);a["a"]=c.exports},"46ff":function(t,a,e){"use strict";var n=e("d8d8"),s=e.n(n);s.a},b84cb:function(t,a,e){"use strict";var n=e("e17e"),s=e.n(n);s.a},d8d8:function(t,a,e){},e17e:function(t,a,e){}}]);
//# sourceMappingURL=chunk-edc0f4ee.0f14d5f0.js.map